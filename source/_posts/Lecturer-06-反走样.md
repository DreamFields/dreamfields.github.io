---
title: "Lecturer 06 [反走样]"
tags:
  - CG
categories:
  - - CG
    - GAMES101
  - - Theory
date: 2021-12-27 21:25:58
---

# 走样

  - 扫描转换的算法在处理图形非水平或者非垂直线段时引起了锯齿或阶梯状的变形。
  - 具体解释

    - （1）几何图形中的直线段无限细，多边形的边亦如此，它们均是带宽无限的信号，即傅里叶频谱中的最高频率为无限大；
    - （2）由于几何图形为带宽无限信号，所以将几何图形像素化时，采样频率无法满足乃奎斯特定理，导致采样过程中丢失高频成分，因而产生的图像信号失真现象，称为“走样”。
    - （3）在视觉上，直线段或多边形边界走样呈现为锯齿状，即“直线边界不直”。

# 采样理论

  - 频率与频谱的理解

    - 通过傅里叶变换（时域 → 频域），将任何周期信号通过级数理论转变为正弦或余弦信号的叠加（每个正余弦信号叫做谐波），而通过刻画这些单个正余弦信号的属性（频率、振幅、相位）形成的对应关系，就形成了该信号的频谱。而原来是通过记录信号随时间变化的起伏来描述该信号（时域），现在便可以通过频谱来描述该信号（频域）。

      - 总结

        ![](30f27f04-cb35-4143-a29f-80c5f2661505-11709514.jpg)
        ![](8dcc19b2-f5b0-431a-8064-45d23d07459a-11709514.jpg)

      - 振幅频谱

        ![](8e2c07f0-5647-40e6-b793-bebeff4b2f2e-11709514.jpg)

      - 相位频谱

        ![](f652c394-f00f-4452-9046-8d31742bee70-11709514.jpg)

  - 如何对图像分析频率和频谱

    - 基础知识的理解

      - [傅里叶分析](https://zhuanlan.zhihu.com/p/19763358)

        - 相位谱和频率谱的直观理解

          ![](0265e20c-1abd-4338-93c8-d8fd229492ba-11709514.jpg)

      - [数字图像处理：图像的频域](https://blog.csdn.net/Vichael_Chan/article/details/102570542)
      - [图像 RGB 值、灰度值与像素值的关系](http://www.360doc.com/content/18/0410/09/7551_744364416.shtml)
      - [通俗讲解：图像傅里叶变换](https://zhuanlan.zhihu.com/p/99605178)
      - [对图像二维傅立叶变换到底是完成什么功能？](https://www.zhihu.com/question/26969067/answer/567804862)
      - [图像处理中频域(Fourier)的应用总结](https://blog.csdn.net/turbogofi/article/details/12048777?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1.control&spm=1001.2101.3001.4242)
      - 图像频谱

        ![](76eed36a-099d-443c-8348-cfc44d132a80-11709514.jpg)

    - 通过频率分析图像中的走样：通过同样的频率采样两种频率截然不同的函数，得到的采样点可以完全相同，即为走样

      ![](8f5ba925-a659-4fd8-926e-87eb1f77fffd-11709514.jpg)

    - 图像操作

      - 时域上的卷积=频域上的乘积
      - 卷积核可以看作一张小的图片，卷积核越大，保留的高频信息越少，在频域图上高频区域的亮度就越低
      - 高通滤波器——保留高频信息
      - 采样反映到频谱中——重复原始信号的频谱。采样的频率越小，反映到频谱中，频谱的重复越密集，于是出现频谱的混叠，产生走样

# 反走样的思路

  - 增加采样率（并不是反走样所研究的）
  - 采样之前，先对信号进行模糊（或者说低通滤波，即拿掉高频信息，这样边界会看起来变得更浅，具体做法是将某个像素计算其在图形内部的覆盖面积，将该像素值进行平均覆盖），再进行采样，那么在频谱中便不容易发生混叠，可以对走样进行一定程度的改善

    ![](45769713-a6c4-44b3-91f2-414194b0212d-11709514.jpg)

    - 如何判断某个像素在三角形内部的比例？MSAA 方法，将每个像素分割为更小的像素点，计算在三角形内部的点占该像素所有点的比例即可。
